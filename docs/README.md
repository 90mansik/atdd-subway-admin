# 4단계 - 구간 제거 기능
## 기능 요구사항
- [ ] 요구사항을 정의한 인수 조건 만들기
- [ ] 인수 조건을 검증하는 인수 테스트를 작성
- [ ] 요구사항 설명을 기반으로 *지하철 구간 제거 기능*을 구현
  - [ ] 종점이 제거 될 경우 다음으로 오던 역이 종점이 됨
  - [ ] 중간역이 제거 될 경우 재배치를 함
    - A-B-C에서 B가 제거 될 경우 A-C로 변경됨
    - 거리는 두 구간의 합
- [ ] 예외 케이스에 대한 검증도 포함.
  - [ ] 구간이 하나인 노선에서 마지막 구간을 제거할 때는 제거할 수 없음


# 3단계 - 구간 추가 기능
## 기능 요구사항
- [x] 요구사항 설명을 기반으로 *지하철 구간 추가 기능*을 구현
  - [x] 역 사이에 새로운 역을 등록 할 경우
  - [x] 새로운 역을 상행 종점으로 등록할 경우
  - [x] 새로운 역을 하행 종점으로 등록할 경우
- [x] 요구사항을 정의한 인수 조건 만들기
- [x] 인수 조건을 검증하는 인수 테스트를 작성
- [x] 예외 케이스에 대한 검증도 포함.
  - [x] 역 사이에 새로운 역을 등록할 경우 기존 역 사이 길이보다 크거나 같으면 등록을 할 수 없음
  - [x] 상행역과 하행역이 이미 노선에 모두 등록되어 있다면 추가할 수 없음
  - [x] 상행역과 하행역 둘 중 하나도 포함되어있지 않으면 추가할 수 없음

# 1단계 - 지하철역 인수 테스트 작성
## 기능 요구사항
- [X] 지하철역 인수 테스트를 완성
  - [X] 지하철역 목록 조회 인수 테스트 작성하기 
  - [X] 지하철역 삭제 인수 테스트 작성하기

# 2단계 - 지하철 노선 기능
## 기능 요구사항
- [x] 요구사항 설명에서 제공되는 인수 조건을 기반으로 지하철 노선 관리 기능을 구현하세요.
- [x] 인수 조건을 검증하는 인수 테스트를 작성하세요.

### 프로그래밍 요구사항
- 아래의 순서로 기능을 구현하세요.
  1. 인수 조건을 검증하는 인수 테스트 작성
  2. 인수 테스트를 충족하는 기능 구현
- 인수 테스트의 결과가 다른 인수 테스트에 영향을 끼치지 않도록 인수 테스트를 서로 격리 시키세요.
- 인수 테스트의 재사용성과 가독성, 그리고 빠른 테스트 의도 파악을 위해 인수 테스트를 리팩터링 하세요.

### 인수조건
- [x] 지하철노선 생성 
```
When 지하철 노선을 생성하면
Then 지하철 노선 목록 조회 시 생성한 노선을 찾을 수 있다
```

- [x] 지하철노선 목록 조회
```
Given 2개의 지하철 노선을 생성하고
When 지하철 노선 목록을 조회하면
Then 지하철 노선 목록 조회 시 2개의 노선을 조회할 수 있다.
```

- [x] 지하철노선 조회
```
Given 지하철 노선을 생성하고
When 생성한 지하철 노선을 조회하면
Then 생성한 지하철 노선의 정보를 응답받을 수 있다.
```

- [x] 지하철노선 수정
```
Given 지하철 노선을 생성하고
When 생성한 지하철 노선을 수정하면
Then 해당 지하철 노선 정보는 수정된다
```

- [x] 지하철노선 삭제
```
Given 지하철 노선을 생성하고
When 생성한 지하철 노선을 삭제하면
Then 해당 지하철 노선 정보는 삭제된다
```


# 피드백
- 테스트를 해야하는 로직을 테스트에 넣는 것을 지양 ex) if, for 등..
  - [참고자료](https://docs.microsoft.com/ko-kr/dotnet/core/testing/unit-testing-best-practices)
- 인수테스트에 많은 메서드가 생기는데 앞으로는 어떻게..?
- 접근 제한을 최소화
- 테스트 격리하는 방법
  - [참고자료](https://tech.pick-git.com/test-optimization2/)
  - 위 방법으로 진행 할 경우 엔티티의 변경사항까지 반영하여 데이터베이스를 삭제할 수 있음
- 테스트 작성시에는 가독성있는 변수명.
  - ex) `upStationId1 = stationApi.createId("광교역");` -> `광교역 = stationApi.createId("광교역");`
- 객체지향 생활체조 else 사용 금지
  - [참고자료](https://developerfarm.wordpress.com/2012/01/27/object_calisthenics_3/)
